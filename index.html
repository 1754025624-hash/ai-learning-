<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­åŒ»ç»æ–¹å­¦ä¹ ç½‘ç«™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f9f5f0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            padding: 40px;
            position: relative;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #8b4513;
            padding-bottom: 20px;
        }
        
        h1 {
            color: #8b4513;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #a0522d;
            font-size: 1.2em;
            font-style: italic;
        }
        
        .nav-bar {
            position: absolute;
            top: 40px;
            right: 40px;
        }
        
        .nav-link {
            margin-left: 20px;
            text-decoration: none;
            color: #8b4513;
            font-weight: bold;
            padding: 5px 15px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        
        .nav-link:hover {
            background-color: #f5f0e6;
        }
        
        .intro {
            background-color: #fff8f0;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 5px solid #8b4513;
        }
        
        h2 {
            color: #8b4513;
            margin: 25px 0 15px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid #e6d5c3;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        .jingfang-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .jingfang-card {
            background-color: #fff;
            border: 1px solid #e6d5c3;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .jingfang-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.1);
        }
        
        .jingfang-card h3 {
            color: #8b4513;
            margin-bottom: 10px;
        }
        
        .jingfang-card .indications {
            color: #666;
            font-size: 0.9em;
            margin-top: 10px;
        }
        
        .resources {
            background-color: #f5f0e6;
            padding: 25px;
            border-radius: 8px;
            margin-top: 30px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e6d5c3;
            color: #777;
        }
        
        .highlight {
            color: #8b4513;
            font-weight: bold;
        }
        
        ul, ol {
            padding-left: 20px;
            margin: 10px 0;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        /* APIé…ç½®æ ·å¼ */
        .config-section {
            background-color: #fff8f0;
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
            border: 1px solid #e6d5c3;
        }
        
        .config-form {
            display: grid;
            gap: 15px;
            max-width: 600px;
            margin-top: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            color: #8b4513;
            font-weight: bold;
        }
        
        .form-group input,
        .form-group select {
            padding: 10px;
            border: 1px solid #d4b89c;
            border-radius: 5px;
            font-size: 1em;
        }
        
        .btn {
            background-color: #8b4513;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: #a0522d;
        }
        
        .btn-secondary {
            background-color: #d4b89c;
            color: #5a3809;
        }
        
        .btn-secondary:hover {
            background-color: #c4a88c;
        }
        
        .status-message {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none;
        }
        
        .status-success {
            background-color: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #c8e6c9;
        }
        
        .status-error {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ffcdd2;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .nav-bar {
                position: static;
                text-align: center;
                margin-top: 20px;
            }
            
            .nav-link {
                display: inline-block;
                margin: 5px;
            }
            
            .jingfang-grid {
                grid-template-columns: 1fr;
            }
        }
        
        /* é—®ç­”é¡µé¢æ ·å¼ */
        .qa-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .qa-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .qa-list {
            margin-top: 30px;
        }
        
        .qa-item {
            background-color: #fff;
            border: 1px solid #e6d5c3;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            transition: box-shadow 0.3s;
        }
        
        .qa-item:hover {
            box-shadow: 0 5px 15px rgba(139, 69, 19, 0.1);
        }
        
        .qa-question {
            color: #8b4513;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .qa-answer {
            color: #5a3809;
            line-height: 1.7;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #e6d5c3;
        }
        
        .qa-meta {
            font-size: 0.9em;
            color: #777;
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
        }
    </style>
</head>
<body>
    <div class="container" id="main-content">
        <header>
            <h1>ä¸­åŒ»ç»æ–¹å­¦ä¹ ç½‘ç«™</h1>
            <p class="subtitle">ä¼ æ‰¿ç»å…¸ï¼Œå¼˜æ‰¬ä¸­åŒ»ï¼Œå­¦ä¹ å¼ ä»²æ™¯ã€Šä¼¤å¯’æ‚ç—…è®ºã€‹ç»æ–¹æ™ºæ…§</p>
            <div class="nav-bar">
                <a href="#" class="nav-link" onclick="showHome()">é¦–é¡µ</a>
                <a href="#" class="nav-link" onclick="showConfig()">APIé…ç½®</a>
                <a href="#" class="nav-link" onclick="showQARecords()">é—®ç­”è®°å½•</a>
            </div>
        </header>
        
        <!-- é¦–é¡µå†…å®¹ -->
        <div id="home-page">
            <section class="intro">
                <h2>ç½‘ç«™ç®€ä»‹</h2>
                <p>æœ¬ç½‘ç«™è‡´åŠ›äºä¸­åŒ»ç»æ–¹çš„å­¦ä¹ ä¸ä¼ æ‰¿ï¼Œé‡ç‚¹ç ”ç©¶å¼ ä»²æ™¯ã€Šä¼¤å¯’æ‚ç—…è®ºã€‹ä¸­çš„ç»å…¸æ–¹å‰‚ã€‚é€šè¿‡ç³»ç»Ÿå­¦ä¹ ï¼ŒæŒæ¡ç»æ–¹çš„è¾¨è¯è¦ç‚¹ã€è¯ç‰©ç»„æˆã€å‰‚é‡æ¯”ä¾‹å’Œä¸´åºŠåº”ç”¨ã€‚æä¾›AIæ™ºèƒ½é—®ç­”åŠŸèƒ½ï¼Œå¸®åŠ©æ‚¨æ·±å…¥å­¦ä¹ ç»æ–¹çŸ¥è¯†ã€‚</p>
            </section>
            
            <section class="section">
                <h2>ç»æ–¹å…¥é—¨</h2>
                <p>ç»æ–¹ï¼ŒæŒ‡æ±‰ä»£ä»¥å‰ç»å…¸åŒ»è¯è‘—ä½œä¸­è®°è½½çš„æ–¹å‰‚ï¼Œä»¥å¼ ä»²æ™¯çš„æ–¹å‰‚ä¸ºä»£è¡¨ã€‚å…¶ä¸»è¦ç‰¹ç‚¹ï¼š</p>
                <ul>
                    <li><span class="highlight">è¯ç®€åŠ›å®</span>ï¼šè¯ç‰©ç»„æˆç²¾ç®€ï¼Œç–—æ•ˆæ˜¾è‘—</li>
                    <li><span class="highlight">é…ä¼ä¸¥è°¨</span>ï¼šå›è‡£ä½ä½¿åˆ†æ˜ï¼Œæ¯”ä¾‹å›ºå®š</li>
                    <li><span class="highlight">è¯æ–¹å¯¹åº”</span>ï¼šç‰¹å®šè¯å€™å¯¹åº”ç‰¹å®šæ–¹å‰‚</li>
                    <li><span class="highlight">å‰‚é‡ç²¾å‡†</span>ï¼šè¯ç‰©å‰‚é‡æœ‰ä¸¥æ ¼æ¯”ä¾‹å…³ç³»</li>
                </ul>
            </section>
            
            <section class="section">
                <h2>å¸¸ç”¨ç»æ–¹ä»‹ç»</h2>
                <div class="jingfang-grid">
                    <div class="jingfang-card" onclick="askAIQuestion('è¯·è¯¦ç»†è§£é‡Šæ¡‚ææ±¤çš„ç»„æˆã€åŠŸæ•ˆå’Œä¸´åºŠåº”ç”¨')">
                        <h3>æ¡‚ææ±¤</h3>
                        <p><strong>ç»„æˆï¼š</strong>æ¡‚æã€èŠè¯ã€ç”˜è‰ã€ç”Ÿå§œã€å¤§æ£</p>
                        <p><strong>åŠŸæ•ˆï¼š</strong>è§£è‚Œå‘è¡¨ï¼Œè°ƒå’Œè¥å«</p>
                        <p class="indications"><strong>ä¸»æ²»ï¼š</strong>å¤ªé˜³ä¸­é£è¯ï¼Œç—‡è§å‘çƒ­ã€æ±—å‡ºã€æ¶é£ã€è„‰æµ®ç¼“</p>
                    </div>
                    
                    <div class="jingfang-card" onclick="askAIQuestion('è¯·è¯¦ç»†è§£é‡Šéº»é»„æ±¤çš„ç»„æˆã€åŠŸæ•ˆå’Œä¸´åºŠåº”ç”¨')">
                        <h3>éº»é»„æ±¤</h3>
                        <p><strong>ç»„æˆï¼š</strong>éº»é»„ã€æ¡‚æã€æä»ã€ç”˜è‰</p>
                        <p><strong>åŠŸæ•ˆï¼š</strong>å‘æ±—è§£è¡¨ï¼Œå®£è‚ºå¹³å–˜</p>
                        <p class="indications"><strong>ä¸»æ²»ï¼š</strong>å¤ªé˜³ä¼¤å¯’è¯ï¼Œç—‡è§æ¶å¯’å‘çƒ­ã€å¤´ç—›èº«ç—›ã€æ— æ±—è€Œå–˜ã€è„‰æµ®ç´§</p>
                    </div>
                    
                    <div class="jingfang-card" onclick="askAIQuestion('è¯·è¯¦ç»†è§£é‡Šå°æŸ´èƒ¡æ±¤çš„ç»„æˆã€åŠŸæ•ˆå’Œä¸´åºŠåº”ç”¨')">
                        <h3>å°æŸ´èƒ¡æ±¤</h3>
                        <p><strong>ç»„æˆï¼š</strong>æŸ´èƒ¡ã€é»„èŠ©ã€äººå‚ã€åŠå¤ã€ç”˜è‰ã€ç”Ÿå§œã€å¤§æ£</p>
                        <p><strong>åŠŸæ•ˆï¼š</strong>å’Œè§£å°‘é˜³</p>
                        <p class="indications"><strong>ä¸»æ²»ï¼š</strong>å°‘é˜³è¯ï¼Œç—‡è§å¾€æ¥å¯’çƒ­ã€èƒ¸èƒè‹¦æ»¡ã€é»˜é»˜ä¸æ¬²é¥®é£Ÿã€å¿ƒçƒ¦å–œå‘•</p>
                    </div>
                    
                    <div class="jingfang-card" onclick="askAIQuestion('è¯·è¯¦ç»†è§£é‡Šç™½è™æ±¤çš„ç»„æˆã€åŠŸæ•ˆå’Œä¸´åºŠåº”ç”¨')">
                        <h3>ç™½è™æ±¤</h3>
                        <p><strong>ç»„æˆï¼š</strong>çŸ³è†ã€çŸ¥æ¯ã€ç”˜è‰ã€ç²³ç±³</p>
                        <p><strong>åŠŸæ•ˆï¼š</strong>æ¸…çƒ­ç”Ÿæ´¥</p>
                        <p class="indications"><strong>ä¸»æ²»ï¼š</strong>é˜³æ˜æ°”åˆ†çƒ­ç››è¯ï¼Œç—‡è§å£®çƒ­é¢èµ¤ã€çƒ¦æ¸´å¼•é¥®ã€æ±—å‡ºæ¶çƒ­ã€è„‰æ´ªå¤§æœ‰åŠ›</p>
                    </div>
                </div>
            </section>
            
            <section class="section">
                <h2>å­¦ä¹ è·¯å¾„</h2>
                <ol>
                    <li><span class="highlight">ç¬¬ä¸€é˜¶æ®µï¼š</span>åŸºç¡€ç†è®º - å­¦ä¹ å…­ç»è¾¨è¯ã€å…«çº²è¾¨è¯</li>
                    <li><span class="highlight">ç¬¬äºŒé˜¶æ®µï¼š</span>ç»æ–¹è®°å¿† - æŒæ¡100é¦–å¸¸ç”¨ç»æ–¹ç»„æˆ</li>
                    <li><span class="highlight">ç¬¬ä¸‰é˜¶æ®µï¼š</span>æ–¹è¯å¯¹åº” - å­¦ä¹ ç»æ–¹é€‚ç”¨è¯å€™ç‰¹ç‚¹</li>
                    <li><span class="highlight">ç¬¬å››é˜¶æ®µï¼š</span>ä¸´åºŠåº”ç”¨ - åˆ†æç»æ–¹ç°ä»£åº”ç”¨æ¡ˆä¾‹</li>
                    <li><span class="highlight">ç¬¬äº”é˜¶æ®µï¼š</span>åŠ å‡å˜åŒ– - å­¦ä¹ ç»æ–¹åŒ–è£åº”ç”¨</li>
                </ol>
            </section>
            
            <section class="resources">
                <h2>å­¦ä¹ èµ„æº</h2>
                <ul>
                    <li>ã€Šä¼¤å¯’æ‚ç—…è®ºã€‹åŸæ–‡åŠç™½è¯è§£è¯»</li>
                    <li>ç»æ–¹è¯ç‰©ç»„æˆåŠå‰‚é‡æ¯”ä¾‹è¡¨</li>
                    <li>ç»æ–¹ä¸´åºŠåº”ç”¨æ¡ˆä¾‹åˆ†æ</li>
                    <li>ç»æ–¹åŠ å‡å˜åŒ–è§„å¾‹æ€»ç»“</li>
                    <li>ç°ä»£ååŒ»ç»æ–¹åº”ç”¨ç»éªŒ</li>
                </ul>
            </section>
        </div>
        
        <!-- APIé…ç½®é¡µé¢ -->
        <div id="config-page" class="hidden">
            <div class="config-section">
                <h2>APIé…ç½®</h2>
                <p>é…ç½®æ‚¨çš„APIå¯†é’¥ä»¥ä½¿ç”¨ç»æ–¹AIåŠ©æ‰‹åŠŸèƒ½ã€‚æ‚¨å¯ä»¥é€‰æ‹©ä½¿ç”¨GitHub APIæˆ–è‡ªå®šä¹‰APIç«¯ç‚¹ã€‚</p>
                
                <div class="config-form">
                    <div class="form-group">
                        <label for="api-type">APIç±»å‹</label>
                        <select id="api-type" onchange="toggleApiFields()">
                            <option value="github">GitHub API</option>
                            <option value="custom">è‡ªå®šä¹‰API</option>
                        </select>
                    </div>
                    
                    <!-- GitHub APIé…ç½® -->
                    <div id="github-fields">
                        <div class="form-group">
                            <label for="github-token">GitHubä¸ªäººè®¿é—®ä»¤ç‰Œ</label>
                            <input type="password" id="github-token" placeholder="è¾“å…¥æ‚¨çš„GitHubä¸ªäººè®¿é—®ä»¤ç‰Œ">
                            <small style="color: #777; margin-top: 5px;">
                                <a href="https://github.com/settings/tokens" target="_blank" style="color: #8b4513;">å¦‚ä½•è·å–GitHubä»¤ç‰Œï¼Ÿ</a> (éœ€è¦repoæƒé™)
                            </small>
                        </div>
                        
                        <div class="form-group">
                            <label for="github-username">GitHubç”¨æˆ·å</label>
                            <input type="text" id="github-username" placeholder="è¾“å…¥æ‚¨çš„GitHubç”¨æˆ·å">
                        </div>
                        
                        <div class="form-group">
                            <label for="github-repo">ä»“åº“åç§°</label>
                            <input type="text" id="github-repo" placeholder="ä¾‹å¦‚ï¼šai-learning-">
                            <small style="color: #777; margin-top: 5px;">å­˜å‚¨é—®ç­”è®°å½•çš„ä»“åº“åç§°</small>
                        </div>
                    </div>
                    
                    <!-- è‡ªå®šä¹‰APIé…ç½® -->
                    <div id="custom-fields" class="hidden">
                        <div class="form-group">
                            <label for="custom-api-endpoint">APIç«¯ç‚¹URL</label>
                            <input type="text" id="custom-api-endpoint" placeholder="https://api.example.com/ask">
                        </div>
                        
                        <div class="form-group">
                            <label for="custom-api-key">APIå¯†é’¥</label>
                            <input type="password" id="custom-api-key" placeholder="è¾“å…¥æ‚¨çš„APIå¯†é’¥">
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 10px;">
                        <button class="btn" onclick="saveConfig()">ä¿å­˜é…ç½®</button>
                        <button class="btn btn-secondary" onclick="testConfig()">æµ‹è¯•è¿æ¥</button>
                        <button class="btn btn-secondary" onclick="clearConfig()">æ¸…é™¤é…ç½®</button>
                    </div>
                </div>
                
                <div id="config-status" class="status-message"></div>
                
                <div style="margin-top: 30px; padding: 15px; background-color: #f5f0e6; border-radius: 5px;">
                    <h3 style="color: #8b4513; margin-bottom: 10px;">ä½¿ç”¨è¯´æ˜</h3>
                    <ul style="color: #5a3809;">
                        <li><strong>GitHub APIæ¨¡å¼ï¼š</strong>éœ€è¦åˆ›å»ºGitHubä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œå¹¶ç¡®ä¿æ‹¥æœ‰å¯¹åº”ä»“åº“çš„è®¿é—®æƒé™</li>
                        <li><strong>è‡ªå®šä¹‰APIæ¨¡å¼ï¼š</strong>å¯ä»¥è¿æ¥æ‚¨è‡ªå·±çš„AIæœåŠ¡ç«¯ç‚¹ï¼Œéœ€è¦è¿”å›JSONæ ¼å¼çš„å“åº”</li>
                        <li>é…ç½®ä¿¡æ¯å°†ä¿å­˜åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ä¸­ï¼Œä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨</li>
                        <li>é¦–æ¬¡ä½¿ç”¨å‰å¿…é¡»é…ç½®APIæ‰èƒ½æ­£å¸¸ä½¿ç”¨AIé—®ç­”åŠŸèƒ½</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- é—®ç­”è®°å½•é¡µé¢ -->
        <div id="qa-page" class="hidden">
            <div class="qa-container">
                <div class="qa-header">
                    <h2>é—®ç­”è®°å½•</h2>
                    <p>æŸ¥çœ‹æ‚¨ä¸AIåŠ©æ‰‹çš„é—®ç­”å†å²è®°å½•</p>
                </div>
                
                <div style="text-align: center; margin-bottom: 20px;">
                    <button class="btn" onclick="loadQARecords()">åˆ·æ–°è®°å½•</button>
                    <button class="btn btn-secondary" onclick="clearQARecords()">æ¸…é™¤æœ¬åœ°è®°å½•</button>
                </div>
                
                <div id="qa-list" class="qa-list">
                    <!-- é—®ç­”è®°å½•å°†åŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
                </div>
                
                <div id="no-qa" style="text-align: center; padding: 40px; color: #777;">
                    <p>æš‚æ— é—®ç­”è®°å½•ã€‚å¼€å§‹ä½¿ç”¨AIåŠ©æ‰‹æé—®å§ï¼</p>
                </div>
            </div>
        </div>
        
        <footer>
            <p>ä¸­åŒ»ç»æ–¹å­¦ä¹ ç½‘ç«™ &copy; 2024</p>
            <p>ä¼ æ‰¿ä¸­åŒ»ç»å…¸ï¼Œå¼˜æ‰¬ä¼ ç»Ÿæ–‡åŒ–</p>
            <p>ç½‘ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œæ›´å¤šå†…å®¹å³å°†æ›´æ–°...</p>
        </footer>
    </div> <!-- .containerç»“æŸ -->

    <!-- ========== ç»æ–¹AIåŠ©æ‰‹æµ®çª— ========== -->
    <div id="ai-assistant" style="display:none; position:fixed; bottom:20px; right:20px; width:380px; background: #fffaf0; border: 2px solid #8b4513; border-radius:12px; box-shadow:0 8px 30px rgba(139, 69, 19, 0.25); font-family: 'Microsoft YaHei'; z-index:1000; max-height:85vh;">
      <div style="background:#8b4513; color:#fffaf0; padding:18px; border-radius:10px 10px 0 0; display:flex; justify-content:space-between; align-items:center;">
        <strong style="font-size:1.1em;">ğŸ§  ç»æ–¹æ™ºèƒ½é—®ç­”</strong>
        <button onclick="toggleAssistant()" style="background:none; border:none; color:#fffaf0; font-size:1.5em; line-height:1; cursor:pointer; padding:0 5px;">Ã—</button>
      </div>
      <div style="padding:15px; border-bottom:1px solid #e6d5c3;">
        <label style="color:#8b4513; font-size:0.9em; margin-right:10px;">é€‰æ‹©AIæ¨¡å‹ï¼š</label>
        <select id="model-select" style="padding:8px 12px; border:1px solid #8b4513; border-radius:6px; background:#fff; color:#5a3809; font-size:0.9em; cursor:pointer;">
          <option value="gpt-40">GPT-40 (ç»¼åˆå…¨é¢)</option>
          <option value="deepseek-r1">DeepSeek-R1 (é€»è¾‘æ¨ç†)</option>
          <option value="llama-3-70b">Llama 3 (å¼€æºä»£è¡¨)</option>
        </select>
      </div>
      <div id="chat-box" style="height:350px; overflow-y:auto; padding:20px; display:flex; flex-direction:column; gap:12px; background:#fcf8f3;"></div>
      <div style="padding:20px; border-top:1px solid #e6d5c3; background:#fff;">
        <div style="display:flex; margin-bottom:12px;">
          <input type="text" id="user-input" placeholder="è¯·è¾“å…¥æ‚¨å…³äºç»æ–¹çš„é—®é¢˜ï¼Œä¾‹å¦‚ï¼šå°æŸ´èƒ¡æ±¤ä¸åŠå¤æ±¤çš„åŒºåˆ«ï¼Ÿ" style="flex-grow:1; padding:12px 15px; border:1px solid #d4b89c; border-radius:8px 0 0 8px; font-size:0.95em; background:#fff;" onkeypress="if(event.key === 'Enter') sendMessage()">
          <button onclick="sendMessage()" style="background:#8b4513; color:white; border:none; padding:0 25px; border-radius:0 8px 8px 0; cursor:pointer; font-weight:bold; font-size:0.95em;">å‘é€</button>
        </div>
        <p style="color:#a0522d; font-size:0.8em; line-height:1.4; margin-top:10px; padding:8px; background:#fff8f0; border-radius:4px;">
          ğŸ’¡ æç¤ºï¼šé¦–æ¬¡ä½¿ç”¨å‰è¯·å…ˆé…ç½®APIã€‚è§£ç­”ç”Ÿæˆåï¼Œå¯å‰å¾€ <a href="javascript:void(0)" onclick="showQARecords()" style="color:#8b4513; text-decoration:underline; font-weight:bold;">ã€é—®ç­”è®°å½•ã€‘</a> é¡µé¢æŸ¥çœ‹å®Œæ•´å†…å®¹ã€‚
        </p>
      </div>
    </div>
    
    <!-- å³ä¸‹è§’è§¦å‘æŒ‰é’® -->
    <button onclick="toggleAssistant()" style="position:fixed; bottom:25px; right:25px; background:#8b4513; color:#fffaf0; border:none; width:60px; height:60px; border-radius:50%; box-shadow:0 6px 20px rgba(139, 69, 19, 0.4); cursor:pointer; z-index:999; font-size:1.8em; display:flex; align-items:center; justify-content:center;">
      <span style="display:block; margin-top:-3px;">é—®</span>
    </button>

    <script>
        // ========== å…¨å±€å˜é‡ ==========
        let currentPage = 'home';
        
        // ========== é¡µé¢å¯¼èˆªå‡½æ•° ==========
        function showHome() {
            document.getElementById('home-page').classList.remove('hidden');
            document.getElementById('config-page').classList.add('hidden');
            document.getElementById('qa-page').classList.add('hidden');
            currentPage = 'home';
        }
        
        function showConfig() {
            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('config-page').classList.remove('hidden');
            document.getElementById('qa-page').classList.add('hidden');
            currentPage = 'config';
            loadConfig();
        }
        
        function showQARecords() {
            document.getElementById('home-page').classList.add('hidden');
            document.getElementById('config-page').classList.add('hidden');
            document.getElementById('qa-page').classList.remove('hidden');
            currentPage = 'qa';
            loadQARecords();
        }
        
        // ========== APIé…ç½®åŠŸèƒ½ ==========
        function toggleApiFields() {
            const apiType = document.getElementById('api-type').value;
            if (apiType === 'github') {
                document.getElementById('github-fields').classList.remove('hidden');
                document.getElementById('custom-fields').classList.add('hidden');
            } else {
                document.getElementById('github-fields').classList.add('hidden');
                document.getElementById('custom-fields').classList.remove('hidden');
            }
        }
        
        function loadConfig() {
            const config = JSON.parse(localStorage.getItem('jingfang-api-config') || '{}');
            
            if (config.apiType) {
                document.getElementById('api-type').value = config.apiType;
                toggleApiFields();
                
                if (config.apiType === 'github') {
                    if (config.githubToken) document.getElementById('github-token').value = config.githubToken;
                    if (config.githubUsername) document.getElementById('github-username').value = config.githubUsername;
                    if (config.githubRepo) document.getElementById('github-repo').value = config.githubRepo;
                } else {
                    if (config.customEndpoint) document.getElementById('custom-api-endpoint').value = config.customEndpoint;
                    if (config.customApiKey) document.getElementById('custom-api-key').value = config.customApiKey;
                }
            }
        }
        
        function saveConfig() {
            const apiType = document.getElementById('api-type').value;
            const config = { apiType };
            
            if (apiType === 'github') {
                config.githubToken = document.getElementById('github-token').value.trim();
                config.githubUsername = document.getElementById('github-username').value.trim();
                config.githubRepo = document.getElementById('github-repo').value.trim();
                
                if (!config.githubToken || !config.githubUsername) {
                    showStatus('è¯·å¡«å†™GitHubä»¤ç‰Œå’Œç”¨æˆ·å', 'error');
                    return;
                }
            } else {
                config.customEndpoint = document.getElementById('custom-api-endpoint').value.trim();
                config.customApiKey = document.getElementById('custom-api-key').value.trim();
                
                if (!config.customEndpoint) {
                    showStatus('è¯·å¡«å†™APIç«¯ç‚¹URL', 'error');
                    return;
                }
            }
            
            localStorage.setItem('jingfang-api-config', JSON.stringify(config));
            showStatus('é…ç½®ä¿å­˜æˆåŠŸï¼', 'success');
        }
        
        function testConfig() {
            const config = JSON.parse(localStorage.getItem('jingfang-api-config') || '{}');
            
            if (!config.apiType) {
                showStatus('è¯·å…ˆä¿å­˜é…ç½®', 'error');
                return;
            }
            
            showStatus('æ­£åœ¨æµ‹è¯•è¿æ¥...', 'success');
            
            // æ¨¡æ‹Ÿè¿æ¥æµ‹è¯•
            setTimeout(() => {
                showStatus('è¿æ¥æµ‹è¯•æˆåŠŸï¼é…ç½®å¯ç”¨ã€‚', 'success');
            }, 1000);
        }
        
        function clearConfig() {
            localStorage.removeItem('jingfang-api-config');
            document.getElementById('github-token').value = '';
            document.getElementById('github-username').value = '';
            document.getElementById('github-repo').value = '';
            document.getElementById('custom-api-endpoint').value = '';
            document.getElementById('custom-api-key').value = '';
            showStatus('é…ç½®å·²æ¸…é™¤', 'success');
        }
        
        function showStatus(message, type) {
            const statusEl = document.getElementById('config-status');
            statusEl.textContent = message;
            statusEl.className = `status-message status-${type}`;
            statusEl.style.display = 'block';
            
            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 3000);
        }
        
        // ========== AIåŠ©æ‰‹æ ¸å¿ƒå‡½æ•° ==========
        function toggleAssistant() {
            const assistant = document.getElementById('ai-assistant');
            assistant.style.display = assistant.style.display === 'block' ? 'none' : 'block';
            
            // æ£€æŸ¥æ˜¯å¦å·²é…ç½®API
            const config = JSON.parse(localStorage.getItem('jingfang-api-config') || '{}');
            if (!config.apiType && assistant.style.display === 'block') {
                const chatBox = document.getElementById('chat-box');
                chatBox.innerHTML = `
                    <div style="align-self:flex-start; background:#fff3e0; padding:15px; border-radius:12px; max-width:90%; border-left:4px solid #ff9800;">
                        <strong style="color:#8b4513;">âš ï¸ è¯·å…ˆé…ç½®API</strong><br>
                        <span style="color:#5a3809;">é¦–æ¬¡ä½¿ç”¨AIåŠ©æ‰‹éœ€è¦å…ˆé…ç½®APIå¯†é’¥ã€‚<br>
                        è¯·ç‚¹å‡»å³ä¸Šè§’ <a href="javascript:void(0)" onclick="showConfig()" style="color:#8b4513; text-decoration:underline; font-weight:bold;">ã€APIé…ç½®ã€‘</a> è¿›è¡Œè®¾ç½®ã€‚
                        </span>
                    </div>`;
            }
        }
        
        function askAIQuestion(question) {
            toggleAssistant();
            const inputEl = document.getElementById('user-input');
            inputEl.value = question;
            setTimeout(() => sendMessage(), 100);
        }
        
        async function sendMessage() {
            const inputEl = document.getElementById('user-input');
            const modelSelectEl = document.getElementById('model-select');
            const userMessage = inputEl.value.trim();
            const chatBox = document.getElementById('chat-box');
            const selectedModel = modelSelectEl.value;
            
            if (!userMessage) {
                alert('è¯·è¾“å…¥æ‚¨çš„é—®é¢˜ã€‚');
                return;
            }
            
            // æ£€æŸ¥APIé…ç½®
            const config = JSON.parse(localStorage.getItem('jingfang-api-config') || '{}');
            if (!config.apiType) {
                alert('è¯·å…ˆé…ç½®APIå¯†é’¥æ‰èƒ½ä½¿ç”¨AIåŠ©æ‰‹åŠŸèƒ½ã€‚');
                showConfig();
                return;
            }
            
            // æ˜¾ç¤ºç”¨æˆ·é—®é¢˜
            chatBox.innerHTML += `<div style="align-self:flex-end; background:#e8f5e9; padding:12px 16px; border-radius:12px 12px 0 12px; max-width:85%; word-wrap:break-word; border:1px solid #c8e6c9;">${userMessage}</div>`;
            inputEl.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;
            
            // æ˜¾ç¤ºç­‰å¾…çŠ¶æ€
            const thinkingId = 'thinking-' + Date.now();
            chatBox.innerHTML += `<div id="${thinkingId}" style="align-self:flex-start; background:#f5f5f5; padding:12px 16px; border-radius:12px 12px 12px 0; max-width:85%; color:#8b4513; font-style:italic; border:1px dashed #d4b89c;">
                <em>ğŸ§ã€${selectedModel}ã€‘æ­£åœ¨ç ”è¯»ç»å…¸ï¼Œä¸ºæ‚¨æ’°å†™è§£ç­”ï¼Œè¯·ç¨å€™...</em>
            </div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
            
            try {
                // ä¿å­˜é—®é¢˜åˆ°æœ¬åœ°è®°å½•
                saveQuestionToLocal(userMessage, selectedModel);
                
                if (config.apiType === 'github') {
                    // GitHub APIæ¨¡å¼
                    if (!config.githubToken || !config.githubUsername) {
                        throw new Error('GitHubé…ç½®ä¸å®Œæ•´');
                    }
                    
                    const repoName = config.githubRepo || 'ai-learning-';
                    
                    // æ¨¡æ‹ŸGitHub APIè°ƒç”¨ï¼ˆå®é™…ä½¿ç”¨æ—¶éœ€è¦çœŸå®APIï¼‰
                    const triggerResponse = await simulateGitHubAPI(config.githubUsername, repoName, userMessage, selectedModel);
                    
                    if (!triggerResponse.ok) {
                        throw new Error(`å·¥ä½œæµè§¦å‘å¤±è´¥ (çŠ¶æ€ç : ${triggerResponse.status})`);
                    }
                    
                    // ç”Ÿæˆæ¨¡æ‹Ÿç­”æ¡ˆï¼ˆå®é™…åº”ä»APIè·å–ï¼‰
                    const simulatedAnswer = generateSimulatedAnswer(userMessage, selectedModel);
                    
                    // ä¿å­˜ç­”æ¡ˆåˆ°æœ¬åœ°
                    saveAnswerToLocal(userMessage, simulatedAnswer, selectedModel);
                    
                    // æ˜¾ç¤ºç­”æ¡ˆ
                    document.getElementById(thinkingId).outerHTML = `
                        <div style="align-self:flex-start; background:#fffaf0; padding:15px; border-radius:12px 12px 12px 0; max-width:90%; border-left:4px solid #8b4513;">
                            <strong style="color:#8b4513;">ğŸ“œ ã€${selectedModel}ã€‘ä¸ºæ‚¨è§£ç­”ï¼š</strong><br>
                            <span style="color:#5a3809; line-height:1.6;">${simulatedAnswer}</span>
                            <div style="margin-top:10px; font-size:0.9em; color:#777;">
                                ç­”æ¡ˆå·²ä¿å­˜åˆ°æœ¬åœ°è®°å½•
                            </div>
                        </div>`;
                } else {
                    // è‡ªå®šä¹‰APIæ¨¡å¼
                    if (!config.customEndpoint) {
                        throw new Error('è‡ªå®šä¹‰APIç«¯ç‚¹æœªé…ç½®');
                    }
                    
                    // æ¨¡æ‹Ÿè‡ªå®šä¹‰APIè°ƒç”¨
                    const simulatedAnswer = await simulateCustomAPI(config.customEndpoint, userMessage, selectedModel, config.customApiKey);
                    
                    // ä¿å­˜ç­”æ¡ˆåˆ°æœ¬åœ°
                    saveAnswerToLocal(userMessage, simulatedAnswer, selectedModel);
                    
                    // æ˜¾ç¤ºç­”æ¡ˆ
                    document.getElementById(thinkingId).outerHTML = `
                        <div style="align-self:flex-start; background:#fffaf0; padding:15px; border-radius:12px 12px 12px 0; max-width:90%; border-left:4px solid #8b4513;">
                            <strong style="color:#8b4513;">ğŸ“œ ã€${selectedModel}ã€‘ä¸ºæ‚¨è§£ç­”ï¼š</strong><br>
                            <span style="color:#5a3809; line-height:1.6;">${simulatedAnswer}</span>
                            <div style="margin-top:10px; font-size:0.9em; color:#777;">
                                ç­”æ¡ˆå·²ä¿å­˜åˆ°æœ¬åœ°è®°å½•
                            </div>
                        </div>`;
                }
                
                chatBox.scrollTop = chatBox.scrollHeight;
                
            } catch (error) {
                console.error('å‡ºé”™:', error);
                document.getElementById(thinkingId).outerHTML = `<div style="align-self:flex-start; background:#ffebee; padding:12px 16px; border-radius:12px; max-width:85%; color:#c62828;">
                    <strong>æŠ±æ­‰ï¼Œæäº¤å‡ºé”™ï¼š</strong>${error.message}ã€‚è¯·æ£€æŸ¥APIé…ç½®ã€‚
                </div>`;
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        }
        
        // ========== æ¨¡æ‹Ÿå‡½æ•°ï¼ˆå®é™…ä½¿ç”¨æ—¶éœ€è¦æ›¿æ¢ä¸ºçœŸå®APIè°ƒç”¨ï¼‰ ==========
        async function simulateGitHubAPI(username, repo, question, model) {
            // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 1500));
            
            // è¿”å›æ¨¡æ‹Ÿçš„æˆåŠŸå“åº”
            return {
                ok: true,
                status: 200,
                json: async () => ({ message: 'Workflow dispatched successfully' })
            };
        }
        
        async function simulateCustomAPI(endpoint, question, model, apiKey) {
            // æ¨¡æ‹ŸAPIè°ƒç”¨å»¶è¿Ÿ
            await new Promise(resolve => setTimeout(resolve, 2000));
            
            // æ ¹æ®é—®é¢˜ç”Ÿæˆæ¨¡æ‹Ÿç­”æ¡ˆ
            return generateSimulatedAnswer(question, model);
        }
        
        function generateSimulatedAnswer(question, model) {
            // æ ¹æ®æ¨¡å‹ç±»å‹å’Œé—®é¢˜ç”Ÿæˆä¸åŒçš„æ¨¡æ‹Ÿç­”æ¡ˆ
            const baseAnswer = "æ ¹æ®ä¸­åŒ»ç»å…¸ç†è®ºï¼Œ";
            const modelSpecific = {
                'gpt-40': "è¿™æ˜¯ä¸€ä¸ªç»¼åˆå…¨é¢çš„åˆ†æï¼š",
                'deepseek-r1': "ç»è¿‡é€»è¾‘æ¨ç†åˆ†æï¼š",
                'llama-3-70b': "åŸºäºå¼€æºæ¨¡å‹çš„åˆ†æï¼š"
            };
            
            const modelPrefix = modelSpecific[model] || "åˆ†æå¦‚ä¸‹ï¼š";
            
            // æ ¹æ®é—®é¢˜å…³é”®è¯ç”Ÿæˆä¸åŒçš„ç­”æ¡ˆ
            let specificAnswer = "";
            if (question.includes('æ¡‚ææ±¤') && question.includes('éº»é»„æ±¤')) {
                specificAnswer = "æ¡‚ææ±¤ä¸éº»é»„æ±¤éƒ½æ˜¯ã€Šä¼¤å¯’è®ºã€‹ä¸­çš„ç»å…¸æ–¹å‰‚ï¼Œä½†é€‚åº”è¯ä¸åŒã€‚æ¡‚ææ±¤ä¸»æ²»å¤ªé˜³ä¸­é£è¯ï¼Œä»¥æ±—å‡ºã€æ¶é£ã€è„‰æµ®ç¼“ä¸ºç‰¹ç‚¹ï¼›éº»é»„æ±¤ä¸»æ²»å¤ªé˜³ä¼¤å¯’è¯ï¼Œä»¥æ— æ±—ã€æ¶å¯’ã€è„‰æµ®ç´§ä¸ºç‰¹ç‚¹ã€‚æ¡‚ææ±¤é‡åœ¨è°ƒå’Œè¥å«ï¼Œéº»é»„æ±¤é‡åœ¨å‘æ±—è§£è¡¨ã€‚";
            } else if (question.includes('å°æŸ´èƒ¡æ±¤') && question.includes('åŠå¤æ±¤')) {
                specificAnswer = "å°æŸ´èƒ¡æ±¤ä¸åŠå¤æ³»å¿ƒæ±¤éƒ½æ˜¯å’Œè§£å‰‚ï¼Œä½†åŠŸæ•ˆå’Œä¸»æ²»ä¸åŒã€‚å°æŸ´èƒ¡æ±¤å’Œè§£å°‘é˜³ï¼Œä¸»æ²»å°‘é˜³è¯ï¼Œç—‡è§å¾€æ¥å¯’çƒ­ã€èƒ¸èƒè‹¦æ»¡ç­‰ï¼›åŠå¤æ³»å¿ƒæ±¤å¯’çƒ­å¹³è°ƒã€æ¶ˆç—æ•£ç»“ï¼Œä¸»æ²»å¯’çƒ­é”™æ‚ä¹‹ç—è¯ï¼Œç—‡è§å¿ƒä¸‹ç—ã€å‘•åã€è‚ é¸£ä¸‹åˆ©ç­‰ã€‚";
            } else if (question.includes('æ¡‚ææ±¤')) {
                specificAnswer = "æ¡‚ææ±¤ç”±æ¡‚æã€èŠè¯ã€ç”˜è‰ã€ç”Ÿå§œã€å¤§æ£ç»„æˆï¼Œæ˜¯è°ƒå’Œè¥å«çš„ä»£è¡¨æ–¹ã€‚ç°ä»£å¸¸ç”¨äºæ²»ç–—æ„Ÿå†’ã€å‘çƒ­ã€è‡ªæ±—ã€è¨éº»ç–¹ç­‰å±è¥å«ä¸å’Œè€…ã€‚ä¸´åºŠåº”ç”¨æ—¶éœ€æ³¨æ„ç…æœæ³•ï¼Œæœè¯åéœ€å•œçƒ­ç²¥ä»¥åŠ©è¯åŠ›ã€‚";
            } else if (question.includes('éº»é»„æ±¤')) {
                specificAnswer = "éº»é»„æ±¤ç”±éº»é»„ã€æ¡‚æã€æä»ã€ç”˜è‰ç»„æˆï¼Œæ˜¯å‘æ±—è§£è¡¨çš„å³»å‰‚ã€‚ç°ä»£å¸¸ç”¨äºæ²»ç–—æ„Ÿå†’ã€æµæ„Ÿã€æ”¯æ°”ç®¡å“®å–˜ç­‰å±é£å¯’è¡¨å®è¯è€…ã€‚ä½¿ç”¨æ—¶éœ€æ³¨æ„ä½“è´¨è™šå¼±è€…æ…ç”¨ï¼Œä¸­ç—…å³æ­¢ï¼Œä¸å¯è¿‡æ±—ã€‚";
            } else {
                specificAnswer = "è¿™ä¸ªé—®é¢˜æ¶‰åŠä¸­åŒ»ç»æ–¹çš„æ ¸å¿ƒç†è®ºã€‚å»ºè®®æ·±å…¥å­¦ä¹ ã€Šä¼¤å¯’æ‚ç—…è®ºã€‹åŸæ–‡ï¼Œå¹¶ç»“åˆä¸´åºŠå®è·µç†è§£ã€‚ä¸­åŒ»å¼ºè°ƒè¾¨è¯è®ºæ²»ï¼Œéœ€æ ¹æ®å…·ä½“è¯å€™é€‰æ‹©åˆé€‚æ–¹å‰‚ï¼Œéšè¯åŠ å‡ã€‚";
            }
            
            return baseAnswer + modelPrefix + specificAnswer + " (æ³¨ï¼šæ­¤ä¸ºæ¨¡æ‹Ÿç­”æ¡ˆï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¿æ¥çœŸå®AIæœåŠ¡)";
        }
        
        // ========== æœ¬åœ°å­˜å‚¨ç®¡ç† ==========
        function saveQuestionToLocal(question, model) {
            const qaRecord = {
                question,
                model,
                timestamp: new Date().toISOString(),
                answer: null
            };
            
            let records = JSON.parse(localStorage.getItem('jingfang-qa-records') || '[]');
            records.unshift(qaRecord);
            localStorage.setItem('jingfang-qa-records', JSON.stringify(records.slice(0, 50))); // æœ€å¤šä¿å­˜50æ¡
        }
        
        function saveAnswerToLocal(question, answer, model) {
            let records = JSON.parse(localStorage.getItem('jingfang-qa-records') || '[]');
            
            // æ‰¾åˆ°æœ€è¿‘ä¸€æ¡æœªå›ç­”çš„é—®é¢˜
            for (let i = 0; i < records.length; i++) {
                if (records[i].question === question && records[i].answer === null) {
                    records[i].answer = answer;
                    records[i].answerTimestamp = new Date().toISOString();
                    break;
                }
            }
            
            localStorage.setItem('jingfang-qa-records', JSON.stringify(records));
        }
        
        function loadQARecords() {
            const records = JSON.parse(localStorage.getItem('jingfang-qa-records') || '[]');
            const qaList = document.getElementById('qa-list');
            const noQA = document.getElementById('no-qa');
            
            if (records.length === 0) {
                qaList.innerHTML = '';
                noQA.style.display = 'block';
                return;
            }
            
            noQA.style.display = 'none';
            qaList.innerHTML = '';
            
            records.forEach((record, index) => {
                const qaItem = document.createElement('div');
                qaItem.className = 'qa-item';
                
                const date = new Date(record.timestamp).toLocaleString('zh-CN');
                
                let answerContent = record.answer || 'ç­‰å¾…AIç”Ÿæˆç­”æ¡ˆ...';
                if (!record.answer) {
                    answerContent = '<em style="color: #777;">ç­‰å¾…AIç”Ÿæˆç­”æ¡ˆ...</em>';
                }
                
                qaItem.innerHTML = `
                    <div class="qa-question">${record.question}</div>
                    <div class="qa-answer">${answerContent}</div>
                    <div class="qa-meta">
                        <span>æ¨¡å‹ï¼š${record.model}</span>
                        <span>æ—¶é—´ï¼š${date}</span>
                    </div>
                `;
                
                qaList.appendChild(qaItem);
            });
        }
        
        function clearQARecords() {
            if (confirm('ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰é—®ç­”è®°å½•å—ï¼Ÿ')) {
                localStorage.removeItem('jingfang-qa-records');
                loadQARecords();
            }
        }
        
        // ========== åˆå§‹åŒ–å‡½æ•° ==========
        function init() {
            // åŠ è½½é…ç½®
            loadConfig();
            
            // åˆå§‹åŒ–é¡µé¢
            showHome();
            
            // æ£€æŸ¥æ˜¯å¦éœ€è¦æ˜¾ç¤ºé…ç½®æç¤º
            const config = JSON.parse(localStorage.getItem('jingfang-api-config') || '{}');
            if (!config.apiType) {
                console.log('é¦–æ¬¡ä½¿ç”¨ï¼Œè¯·é…ç½®API');
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>
